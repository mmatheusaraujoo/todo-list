<p-blockUI [blocked]="(loading$ | async) || false">
  <p-progressSpinner ariaLabel="loading" />
</p-blockUI>
<p-toast position="bottom-center" key="bc" />
<div class="md:surface-ground  border-round">
  <div class="block text-center">
    <h1 class="text-lg">
      Lista de Tarefas
    </h1>
  </div>
  <div class="flex flex-auto flex-column gap-3 mt-5">
    <h2>Pendente</h2>
    <ng-container *ngFor="let todo of todoList$ | async">
      <p-accordion class="w-full">
        <p-accordionTab class="bg-primary">
          <ng-template pTemplate="header">
            <span class="flex align-items-center gap-2 w-full">
              <span class=" font-bold white-space-nowrap"
                [ngClass]="todo.realizado ? 'line-through' : ''">{{todo.nome}}</span>
              <p-badge value="{{todo.prioridade}}" [severity]="checkSeverity(todo.prioridade)"></p-badge>
              <div class="ml-auto">
                <p-button [icon]="!todo.realizado ? 'pi pi-check': 'pi pi-times'" [rounded]="true" [text]="true"
                  (onClick)="changeState(todo); $event.stopPropagation()" />
                <p-button icon="pi pi-trash" [rounded]="true" [text]="true" severity="danger"
                  (onClick)="deleteTodo(todo); $event.stopPropagation()" />
              </div>
            </span>
          </ng-template>
          <p class="m-0">
            {{todo.descricao}}
          </p>
        </p-accordionTab>
      </p-accordion>
    </ng-container>
  </div>
</div>